(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(9828)}])},9828:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var i=n(5893),a=n(7294);function r(){let[e,t]=(0,a.useState)(""),[n,r]=(0,a.useState)([]),[o,c]=(0,a.useState)(!1),d=async()=>{if(!e.trim())return;let n={role:"user",text:e};r(e=>[...e,n]),t(""),c(!0);try{let e=await fetch("".concat("https://6n1a4qicmk.execute-api.ap-southeast-2.amazonaws.com","/chat"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:n.text})}),t=await e.json(),i="Emotion: ".concat(t.emotion," (confidence ").concat(Math.round(100*(t.confidence||0)),"%)\nActivity: ").concat(t.activity,"\nEncouragement: ").concat(t.encouragement),a={role:"bot",text:i};r(e=>[...e,a])}catch(e){r(e=>[...e,{role:"bot",text:"Sorry, something went wrong."}])}finally{c(!1)}};return(0,i.jsx)("div",{style:{minHeight:"100vh",background:"#0ea5a4",padding:20},children:(0,i.jsxs)("div",{style:{maxWidth:720,margin:"0 auto",background:"#fff",borderRadius:8,padding:20},children:[(0,i.jsx)("h1",{children:"Feelink"}),(0,i.jsxs)("div",{style:{height:320,overflow:"auto",border:"1px solid #eee",padding:10},children:[n.map((e,t)=>(0,i.jsx)("div",{style:{textAlign:"user"===e.role?"right":"left",margin:"8px 0"},children:(0,i.jsx)("div",{style:{display:"inline-block",background:"user"===e.role?"#fde68a":"#e6f4ff",padding:10,borderRadius:6},children:(0,i.jsx)("pre",{style:{margin:0,whiteSpace:"pre-wrap"},children:e.text})})},t)),o&&(0,i.jsx)("div",{children:"Bot is typing..."})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:8,marginTop:12},children:[(0,i.jsx)("input",{value:e,onChange:e=>t(e.target.value),style:{flex:1,padding:8}}),(0,i.jsx)("button",{onClick:d,style:{padding:"8px 16px"},children:"Send"})]})]})})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);